# This workflow checks if specfic files were modified,
# if they were they require more than one approval from CODEOWNERS
name: Check Files

on:
  pull_request:

jobs:
  checkFiles:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0
      
      - name: Get Files changed
        id: file-changes
        shell: bash
        run:
          #  *release.yml files are responsible for releasing builds
          # we require multiple approvers if any of those files change
          echo "FILES=$(git diff --name-only origin/main origin/${GITHUB_HEAD_REF} .github/workflows/pull.yml | tr '\n' ' ')" >> "$GITHUB_OUTPUT"
      
      - name: Check if FILES is not empty
        env:
          FILES: ${{ steps.file-changes.outputs.FILES }}
        if: ${{env.FILES == ''}}
        run:
          echo "empty string"